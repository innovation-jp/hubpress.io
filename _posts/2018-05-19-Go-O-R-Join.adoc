# GoのORマッパーでJoinデータのとり方で考えさせられる！
:hp-alt-title:　golangMapperUsed2
:hp-tags: NewTsukamoto, mac, Golang, gorm

こんにちは。
エンジニアのNew塚本です。

現在、Golangでバッチ処理をゴリゴリ製造しています。 + 
ORマッパーはgormを使用しているのですが、Joinした場合のデータのとり方でハマりましたので +
そのお話をのせたいと思います。


====== その前に

gormのドキュメントのJoinについて確認してみます。 +
引用）http://doc.gorm.io/crud.html#query
++++
<pre style="font-family: Menlo, Courier">
db.Table("users").Select("users.name, emails.email").Joins("left join emails on emails.user_id = users.id").Scan(&results)
</pre> 
++++

内容はざっくりこんな感じです。もっと詳しい内容はgormのドキュメントを確認してください。 +

前の方から、 +
db.Table("users")　->　usersテーブルを基礎表に設定 + 
.Select　->　取得する項目（SQLのselect句）を設定 + 
.Joins　->　結合するテーブルと条件設定 + 
.Scan　->　取得する値を設定するポインタを設定 + 

今回、