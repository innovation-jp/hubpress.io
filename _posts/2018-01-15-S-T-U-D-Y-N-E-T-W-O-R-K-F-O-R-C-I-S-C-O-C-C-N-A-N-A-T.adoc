# macのGNS3でNETWORK(CISCO CCNA)のお勉強？(NAT)
:published_at: 2018-01-15
:hp-alt-title: STUDY NETWORK FOR CISCO CCNA(NAT)
:hp-tags: Network, GNS3, CISCO, CCNA, KTN, NAT, CentOS

KTNです +
前回の続きで今度はNATの勉強をしていきたいと思います +
早速始めましょう！ +

## NATしてみます
今回は本社のPCから仮想インターネットに公開されているWebサイトを見れるよう +
環境構築していきたいと思います +

おおまかな手順は以下になります +
１．GNS3の標準VPCSからCentOSに切り替える +
２．Webサイトを構築する +
３．本社ルータにNAT設定をする +
４．本社のPCを増やしてもWebを見れることを確認する +

## １．GNS3の標準VPCSからCentOSに切り替える
標準のVPCSだとcurlコマンドも無いし、 +
Webサーバを立てる方法もわからなかったので、CentOSにしたいと思いやってみました +
VirtualBoxで仮想マシンを作成してから、GNS3の登録して使えるようにしていきます +

以下画像の通り仮想マシンを作成してCentOSをインストールしていきます

インストール先に

インストールが終わったらインターネットに接続できるよう、
ネットワークの設定をしてから起動します
※今回はブリッジにして接続するようにしました

Webサーバで使うので、apacheをインストールしておきます
yum install httpd

準備出来たのでシャットダウンします
仮想マシンは複数台欲しいので、クローンしておきます
とりあえず3台作ってみました

その後、GNS3の設定画面のVirtualBox VMsに追加して、
以下のように配置しました
GNS3から仮想マシンを起動すると「ネットワーク設定はしないでね」というエラーになるので、
Virtual Boxの設定画面で各仮想マシンのネットワーク設定を削除します

再度仮想マシンを起動します。
起動後以下のコマンドでIPアドレスを設定します
設定後pingして疎通確認してみます



疎通できたのでOKです


## ２．Webサイトを構築する

以下のように仮想インターネットに仮想マシンを接続します
R1に接続しようとしたのですがインタフェース数が足りなかったので追加します
NM-4Eインターフェースを追加して再起動します

再起動後以下のコマンドでIPアドレスを設定します
設定後apacheを起動し、CURLコマンドで確認します