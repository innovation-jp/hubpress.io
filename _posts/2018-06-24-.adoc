= 執筆中。とりあえずコピー
:hp-tags: sumomo, Laravel, Request, beginner


こんにちは、未経験中途エンジニアの、すももです。 +
今回は、業務で使用しているLaravelのリクエストクラスについて、手の長いリーダーから色々教えてもらったので、Laravel初心者向けに書きたいと思います〜。 +


 
 

## なんかいれる +


=== 〜準備〜


▪️routes/web.php

```
Route::get('/test/{a}/{b}', 'TestController@test');

```

▪️app/Http/Controllers/TestController.php

```
public function test(Request $request)
{
    dd(
        // リクエストURIの取得
        $request->path(),
        // リクエストのURIが指定されたパターンに合致するか確認
        $request->is('*/sumo'),
        // 完全なURLを取得(クエリ文字列なし)
        $request->url(),
        // 完全なURLを取得(クエリ文字列付き)
        $request->fullUrl(),
        // リクエストメソッドの取得
        $request->isMethod('post')
    );
    return view('test.index');
}

```



試しに、http://localhost/test/lala/sumo?aaa=bbbにアクセスしてみる。 +
それぞれ取得できたのがこちら



```
// リクエストURIの取得→（test/lala/sumo）
$request->path();
```
```
// リクエストのURIが指定されたパターンに合致するか確認→（true）
$request->is('*/sumo');
```
```
// 完全なURLを取得(クエリ文字列なし)→（http://localhost/test/lala/sumo）
$request->url();
```
```
// 完全なURLを取得(クエリ文字列付き)→（http://localhost/test/lala/sumo?aaa=bbb）
$request->fullUrl();
```
```
// リクエストメソッドの取得→（false）
$request->isMethod('post');

```


## なんかいれる +

=== 〜準備〜


▪️routes/web.php

```
Route::post('/testregist/{a}/{b}', 'TestController@testregist');
```

▪️app/Http/Controllers/TestController.php

```
```

▪️resources/views/test/index.blade.php

```
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>リクエストの勉強</title>
</head>
<body>
    <h1>入力フォーム</h1>
    <div>
        {{ Form::open(['url' => '/testregist/lala/sumo', 'method' => 'post']) }}
            <label>お名前：<input type="text" name="name"></label><br>
            <label>メール：<input type="text" name="mail"></label><br>
            <label>パスワード：<input type="password" name="password"></label><br>
            <input type="submit" name="regist" value="登録する">
        {{ Form::close() }}
    </div>
</body>
</html>
```

```
// ☓☓☓の取得→（）
$request->input('☓☓☓');
$request->☓☓☓;
```
```
// リクエストに☓☓☓が存在していない場合に、デフォルト値で指定した△△△を返す→（）
$request->input('☓☓☓', '△△△');
```
```
// リクエストの全入力データを配列で取得→（）
$request->all();
```
```
// リクエストから☓☓☓の入力データだけ取得→（）
$request->only('☓☓☓');
```
```
// リクエストから☓☓☓以外の入力データを取得→（）
$request->except('☓☓☓');
```
```
----入力値の存在チェック----
// リクエストに☓☓☓が存在するか判定→（）
$request->has('☓☓☓');
```
```
// リクエストに☓☓☓が存在しており、かつ空でない事を判定→（）
$request->filled('☓☓☓');

```


Slackへの通知に関しては、以下サイトを参考にGASのライブラリを使用いたしました。 +
https://qiita.com/soundTricker/items/43267609a870fc9c7453 +
ライブラリの登録はスクリプトエディタのメニューにある「リソース」→「ライブラリ」→「ライブラリを追加」から行えます。 +

* 注意点！ +
slackのユーザー名は、いつも見ている表示名とは違う場合があります！ +
「プロフィール＆アカウント」→「アカウント設定」→「ユーザー名」→「開く」から確認できます。 +
この事に気付くまで、「slack送れる人と送れない人がいる！なんで？？」となりました...


*②-2.指定した時間に、シートに書き込まれている日付をチェックする* +
*③-2.書き込まれている日付が今日の日付でなければslackを送る*





## 感想 +

GASはプログラミング初心者の私でもとっつきやすかったので、今後もいろいろ試してみたいなー！と思いました。 +
 +
〜おしまい〜 +


