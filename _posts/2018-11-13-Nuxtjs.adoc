# Nuxt.jsについて調べてみたよ
:hp-alt-title: Nuxt.jsについて調べてみたよ
:hp-tags: Hasumin, Nuxt, Vue

どうも。はすみんです。 +
今回のブログはNuxt.jsについて調べたことを書きました。 +

## Agenda
- Nuxt.js概要と特徴
- 個人的に嬉しいなと思ったところ
- Nuxt.jsを使ったほうがいい場面って？
- Nuxt.jsを使うときの注意点

## Nuxt.js概要と特徴
Nuxt.jsはVue.jsで書かれたフレームワークです。 +
本家のドキュメントには以下のように書かれています。 +
```
Nuxt.js は Vue アプリケーションを作成するフレームワークです。ユニバーサルアプリケーション、静的に生成されるアプリケーション、シングルページアプリケーションの中から作成するアプリケーションを選ぶことができます。
```
https://ja.nuxtjs.org/guide/

また、Nuxt.jsには以下の構成がデフォルトで入っています。 +
```
- Vue 2
- Vue-Router
- Vuex（ストアオプションを利用している場合に限る）
- Vue Server Renderer（mode: 'spa' を利用している場合を除く)
- vue-meta
```

要は、Vue.jsを作りたいアプリケーションに合わせて柔軟に、かつ簡単にかけるようにしてくれるのがNuxt.jsなのかなーと捉えています。 +

主な機能としては以下です。 +
```
- Vue ファイルで記述できること（*.vue）
- コードを自動的に分割すること
- サーバーサイドレンダリング
- 非同期データをハンドリングするパワフルなルーティング
- 静的ファイルの配信
- ES6/ES7 のトランスパイレーション
- JS と CSS のバンドル及びミニファイ化
- <head> 要素（<title>、<meta> など）の管理
- 開発モードにおけるホットリローディング
- プリプロセッサ: Sass, Less, Stylus など
- HTTP/2 push headers ready
- モジュール構造で拡張できること
```

結構機能が多いので、上記内容を元にいいなと思ったところをピックアップしていこうと思います。 +

## 個人的に嬉しいなと思ったところ

#### 書きたいことに集中できる
Vue RouterやVuexといった構成がまるっと入っているので、ルーティング処理などが簡単になります。 +
例えば、aboutページなどを作成したい場合、about.vueファイルを作成すればNuxt.js自身がルーティング処理などはよしなにやってくれます。 +
Nuxt.jsの思想として「*.vueの記述、要は書きたいことに集中できるようにする」があり、魅力的に感じました。 +

#### 設定より規約を重視しているので、複数人で開発するときに迷わなくて済む
これはNuxt.jsの魅力というよりフレームワークそのものの魅力ですが、規約がきっちりしているので、複数人で開発することが決まっている場合は、開発者内であれこれ決めなくていいので、スピード感持って開発できるかと思います。 +

#### （良いか悪いかは別として）SSRを簡単に試せる
これもNuxt.jsの特徴のひとつですが、サーバーサイドレンダリング(SSR)を簡単に試すことができます。 +
やり方はアプリケーション作成時にインタラクティブにコンソールから聞かれたときに答えるだけです。 +
後からでもconfigファイルを1行変更するだけで、簡単に設定を変えることができます。 +
SSRという機能自体が不要かは置いておいて、実装が大変なSSRを簡単に導入できるのは魅力ですね。 +

## Nuxt.jsを使ったほうがいい場面って？

#### 開発者のほとんどがVue.jsにそれなりに慣れ親しんでいるとき
新しくアプリケーションを作成するときに、Vue.jsを使ったことがある人が多いのであればNuxt.jsを使ったほうがスピード感持って開発できるかなと思います。 +
上記でも触れましたが、設定より規約を重視していることと、必要な構成がデフォルトで入っているので、レールに乗ってそれなりのアプリケーションが早く出来ると思います。 +

#### SSRを使って初期表示を早くさせたい or モバイルサイトで早く表示させたい
SSRのメリットとして、サーバー側でHTMLのレンダリング処理をやってくれるので、初期表示を早くすることができます。 +
通常のWebサイトでは、クライアントサイドでリクエストを送りサーバーサイドで必要な処理を返したのち、クライアントサイドでJavaScriptでレンダリング処理をすることが多いですが、 +
SSRではレンダリング処理をサーバーサイドで対応するためクライアントサイドの負荷が下がります。 +
クライアントサイドのスペックに左右されないので、スペックが古いPCやモバイルサイトの場合はSSRが有効なケースが多いです。 +
デメリットももちろんあるので、それは後述します。 +

#### 単純に使ってみたい！
個人的にはこれが一番大きな理由であってほしいですね。 +
せっかく使うなら、Vue.jsはどういうところに課題を持っていて、Nuxt.jsはどういう風に解決していて、使うとどんなメリットがあるのかを意識して使うと、より楽しく使えるのではないかなと思います。 +

## Nuxt.jsを使うときの注意点

#### ユニバーサルJavaScriptであること
ユニバーサルJavaScriptとは、クライアントサイドでもサーバーサイドでも使えることをいいます。 +
なので、例えばクライアントサイドでないと使えない処理（window.reloadなど）を書いてしまうと、思わぬところで落ちるので注意が必要です。 +
設計をちゃんとやることで回避できるかと思いますが、注意を向けるコストが発生してしまいます。 +

#### SSRを使うとCPUの負荷が上がる
SSRを使うことで、クライアントサイドでの処理をサーバーサイドで対応することでCPUが上がります。 +
インフラのスペックを上げたりオートスケールさせることで対応はできますが、天秤ですね。 +

#### Vue CLI3.0との立ち位置は？
2018年4月にVue CLI3.0が発表され、大きなアップデートとなりました。 +
具体的には、Vue CLI3.0でもビルトインされてたり、パッケージのカスタマイズがいい感じできたりと、これまでNuxt.jsがカバーしていた分野も出来るようなったりしています。 +
SSRしたいなとか、規約を重視して開発したいときはNuxt.jsで良いかと思いますが、両者の棲み分けを考えて開発していきたいですね。 +

## おわりに
Nuxt.jsを使ってこんなサービス作ったよって言えるようにほそぼそとやっていきたい。  +
